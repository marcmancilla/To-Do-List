<div class="home-container">

    <nav class="lateralNav">
        <img src="/favicon.ico" alt="">
        <ul>
            <li><input type="button" value="Mis tareas"></li>
            <li><input type="button" value="Crear tarea" routerLink="/tarea"></li>
        </ul>
    </nav>

    <div class="main-content">
        <div class="title">
            <h1>Mi lista de tareas</h1>
        </div>

        <div class="content-area">
            <div class="filtros">
                <button (click)="filtro = 'todas'">Todas</button>
                <button (click)="filtro = 'no-completada'">Pendientes</button>
                <button (click)="filtro = 'completada'">Completadas</button>
            </div>


            <div class="area-tareas">
                @for (tarea of tareasFiltradas; track tarea.titulo) {
                @if (!tarea.editando) {
                <div class="tarea-card">
                    <div class="contenido-tarea">
                        <h3 class="tarea-titulo">{{tarea.titulo}}</h3>
                        <p class="tarea-descripcion">{{tarea.texto}}</p>
                    </div>

                    <div class="botones">
                        <button class="tarea-eliminar" (click)="eliminarTarea(tarea)">ğŸ—‘ï¸</button>
                        <button class="tarea-completada" (click)="marcarCompletada(tarea)">{{ tarea.estado ===
                            'completada' ? 'Completada' : 'No completada' }}</button>
                        <button class="tarea-editar" (click)="editarTarea(tarea)">{{ tarea.editando ? 'Guardar'
                            : 'Editar tarea'}}</button>
                    </div>

                </div>
                } @else {
                <div class="tarea-card-editar">
                    <div class="contenido-tarea">
                        <input [(ngModel)]="tarea.titulo" placeholder="TÃ­tulo" class="tarea-titulo-editar"/>
                        <textarea [(ngModel)]="tarea.texto" placeholder="DescripciÃ³n" class="tarea-descripcion-editar"></textarea>
                    </div>

                    <div class="botones-editar">
                        <button class="tarea-eliminar" (click)="eliminarTarea(tarea)">ğŸ—‘ï¸</button>
                        <button class="tarea-completada" (click)="marcarCompletada(tarea)">{{ tarea.estado ===
                            'completada' ? 'Completada' : 'No completada' }}</button>
                        <button class="tarea-editar" (click)="editarTarea(tarea)">{{ tarea.editando ? 'Guardar'
                            : 'Editar tarea'}}</button>
                    </div>

                </div>

                }
                }

            </div>
        </div>
    </div>
</div>